<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Responsive LMS with Quiz</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    body {
      background-color: #f8f9fa;
    }
    .card {
      transition: 0.3s;
    }
    .card:hover {
      transform: scale(1.03);
    }
  </style>
</head>

<body>

<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container">
    <a class="navbar-brand" href="#">My LMS</a>
  </div>
</nav>

<section class="container text-center my-5">
  <h1 class="fw-bold">Learning Management System</h1>
  <p class="lead">Upload courses and take quizzes</p>
</section>

<section class="container my-5">
  <h2>Add Course</h2>
  <div class="card p-4 shadow">
    <form id="courseForm">
      <div class="mb-3">
        <input type="text" class="form-control" id="courseTitle" placeholder="Course Title" required>
      </div>
      <div class="mb-3">
        <textarea class="form-control" id="courseDesc" placeholder="Course Description" required></textarea>
      </div>
      <button type="submit" class="btn btn-primary w-100">Upload Course</button>
    </form>
  </div>
</section>

<section class="container my-5">
  <h2>Available Courses</h2>
  <div class="row" id="courseContainer"></div>
</section>

<script>
const form = document.getElementById("courseForm");
const container = document.getElementById("courseContainer");

let courses = [];

form.addEventListener("submit", function (e) {
  e.preventDefault();

  const title = document.getElementById("courseTitle").value;
  const desc = document.getElementById("courseDesc").value;

  const quiz = [
    {
      question: "What is HTML?",
      options: ["Programming Language", "Markup Language", "Database", "Operating System"],
      answer: 1
    },
    {
      question: "What does CSS stand for?",
      options: ["Creative Style Sheet", "Cascading Style Sheets", "Computer Style System", "Color Style Sheet"],
      answer: 1
    },
    {
      question: "Which is used for responsive design?",
      options: ["Flexbox", "Grid", "Media Queries", "All of the above"],
      answer: 3
    },
    {
      question: "Bootstrap is a?",
      options: ["Framework", "Language", "Database", "Server"],
      answer: 0
    },
    {
      question: "Which tag is used for JavaScript?",
      options: ["&lt;js&gt;", "&lt;javascript&gt;", "&lt;script&gt;", "&lt;code&gt;"],
      answer: 2
    }
  ];

  courses.push({ title, desc, quiz });
  displayCourses();
  form.reset();
});

function displayCourses() {
  container.innerHTML = "";

  courses.forEach((course, index) => {
    container.innerHTML += `
      <div class="col-md-4 col-sm-6 mb-4">
        <div class="card shadow h-100">
          <div class="card-body d-flex flex-column">
            <h5>${course.title}</h5>
            <p>${course.desc}</p>
            <button class="btn btn-success mt-auto" onclick="startQuiz(${index})">
              Take Quiz
            </button>
            <div id="quiz-${index}" class="mt-3"></div>
          </div>
        </div>
      </div>
    `;
  });
}

function startQuiz(index) {
  const quizDiv = document.getElementById(`quiz-${index}`);
  const quiz = courses[index].quiz;

  let quizHTML = "";

  quiz.forEach((q, i) => {
    quizHTML += `
      <div class="mb-3">
        <p><strong>Q${i + 1}. ${q.question}</strong></p>
    `;

    q.options.forEach((option, optIndex) => {
      quizHTML += `
        <div class="form-check">
          <input class="form-check-input" type="radio" 
            name="question${index}-${i}" value="${optIndex}">
          <label class="form-check-label">${option}</label>
        </div>
      `;
    });

    quizHTML += `</div>`;
  });

  quizHTML += `
    <button class="btn btn-primary w-100"
      onclick="submitQuiz(${index})">Submit Quiz</button>
    <div id="result-${index}" class="mt-3"></div>
  `;

  quizDiv.innerHTML = quizHTML;
}

function submitQuiz(index) {
  const quiz = courses[index].quiz;
  let score = 0;

  quiz.forEach((q, i) => {
    const selected = document.querySelector(
      `input[name="question${index}-${i}"]:checked`
    );

    if (selected && parseInt(selected.value) === q.answer) {
      score++;
    }
  });

  document.getElementById(`result-${index}`).innerHTML = `
    <div class="alert alert-info">
      Your Score: <strong>${score} / ${quiz.length}</strong>
    </div>
  `;
}
</script>

</body>
</html>